<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=content-language content="en"><meta http-equiv=content-security-policy content="upgrade-insecure-requests; block-all-mixed-content; default-src 'self'; child-src 'self'; font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net/; form-action 'self'; frame-src 'self'; img-src 'self'; object-src 'none'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com/ https://cdn.jsdelivr.net/; script-src 'self' 'unsafe-inline' https://ajax.cloudflare.com https://static.cloudflareinsights.com https://www.google-analytics.com https://rabinadk1.disqus.com https://cdn.jsdelivr.net/; prefetch-src 'self';"><meta name=author content="Rabin Adhikari"><meta name=description content="Hands-on tutorial on how to import OpenVPN configuration from NetworkManager easily."><meta name=keywords content="linux,openvpn,networkmanager"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://rabinadhikari.com.np/images/OpenVPN_logo.png"><meta name=twitter:title content="Importing OpenVPN Configuration"><meta name=twitter:description content="Hands-on tutorial on how to import OpenVPN configuration from NetworkManager easily."><meta property="og:title" content="Importing OpenVPN Configuration"><meta property="og:description" content="Hands-on tutorial on how to import OpenVPN configuration from NetworkManager easily."><meta property="og:type" content="article"><meta property="og:url" content="https://rabinadhikari.com.np/posts/importing-openvpn/"><meta property="og:image" content="https://rabinadhikari.com.np/images/OpenVPN_logo.png"><meta property="article:published_time" content="2020-10-30T00:00:00+00:00"><meta property="article:modified_time" content="2020-10-30T00:00:00+00:00"><title>Importing OpenVPN Configuration Â· Rabin Adhikari</title><link rel=canonical href=https://rabinadhikari.com.np/posts/importing-openvpn/><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel=stylesheet><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.1.7" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.f48a4da9bd32cecaff90717ae85529411dd087c10fc0dfca9c9c329c7327e5e1.css integrity="sha256-9IpNqb0yzsr/kHF66FUpQR3Qh8EPwN/KnJwynHMn5eE=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.89c82b6022b96f77aeb521b240daec4f87ea029d84d1c78b8acd0735b91b3c92.css integrity="sha256-icgrYCK5b3eutSGyQNrsT4fqAp2E0ceLis0HNbkbPJI=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/center.css><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><meta name=generator content="Hugo 0.80.0"></head><body class=colorscheme-auto><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Rabin Adhikari</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/about/>About</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/projects/>Projects</a></li><li class=navigation-item><a class=navigation-link href=/contact/>Contact me</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class=navigation-item><a href=https://rabinadhikari.com.np/ne/>Nepali</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://rabinadhikari.com.np/posts/importing-openvpn/>Importing OpenVPN Configuration</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i><time datetime=2020-10-30T00:00:00Z>October 30, 2020</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>6-minute read</span></div><div class=categories><i class="fa fa-folder" aria-hidden=true></i><a href=/categories/development/>Development</a>
<span class=separator>â€¢</span>
<a href=/categories/linux/>Linux</a></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i><a href=/tags/development/>development</a></div></div></header><div><p>OpenVPN is an open-source Virtual Private Network (VPN) system that implements techniques to create secure point-to-point or site-to-site connections in routed or bridged configurations and remote access facilities. It allows peers to authenticate each other using pre-shared secret keys, certificates, or username/password. It is recognized industry-wide as the most secure VPN encryption protocol. As well as being remarkably secure, OpenVPN is highly customizable and can be implemented by the users in several ways.</p><p>The OpenVPN protocol is responsible for handling client-server communications. It allows you to connect to a remote network over a secure, encrypted connection and mask your IP addresses over all ports. When OpenVPN handles encryption and authentication, it uses the OpenSSL library quite extensively.</p><p>Setting up OpenVPN in Linux is fairly easy. You can import its configuration from NetworkManager, <em>nm-connection-editor</em> to be more specific. The configuration of OpenVPN has <code>.openvpn</code> extension. I want this blog to be a hands-on tutorial on how to import it. So, letâ€™s get started.</p><p>First of all, you should download the OpenVPN configuration from a source. They can be from any service provided you like, but for this blog, I will be using <a href=https://www.vpnbook.com/freevpn>vpnbook</a> for the sake of simplicity.</p><p><img src=/images/vpnbook_screenshot.png#center alt="vpnbook screenshot"></p><p>The picture shown above is the screenshot of the link to vpnbook provided above. Download any OpenVPN Certificate Bundle from the provided ones according to your location and need. I downloaded <a href=https://www.vpnbook.com/free-openvpn-account/VPNBook.com-OpenVPN-US1.zip>US1 OpenVPN Certificate Bundle</a>. Now let&rsquo;s go ahead and look at the contents of the zip file you just downloaded.</p><p><img src=/images/openvpn_bundle_contents.png#center alt="openvpn bundle contents"></p><p>The zip contained the files shown in the figure above. As said on the website of vpnbook, these are UDP 53, UDP 25000, TCP 80, TCP 443 profile. For those of you who donâ€™t know it, TCP and UDP are protocols and the numbers beside them are the port in which they operate. For example, <code>vpnbook-us1-udp53.openvpn</code> has a configuration for UDP protocol operating on port 53 for the VPN.</p><p>Now letâ€™s go ahead and import them from NetworkManager. But hold on, have you installed the OpenVPN client needed to operate it? If not then install the <em>openvpn</em> package needed to operate the OpenVPN. Since we are going to import them from NetworkManager, we need a plugin called <em>networkmanager-openvpn</em>, depending on which distribution you are on the package name may differ slightly and it may have been included inside the <em>networkmanager</em> package also. Since I am on Arch (I use Arch btw! ðŸ˜œ), those package names are of Arch. So, go ahead and do some research for your distribution and install those prerequisites.</p><p>We will be importing the configuration from <em>nm-connection-editor</em> command. It is a NetworkManager GUI connection editor. So, go ahead and enter <code>nm-connection-editor</code> on your terminal or if you are not a fan of entering commands in the terminal, right-click your NetworkManager applet from your taskbar and click on <em>Edit Connectionsâ€¦</em>. Now, you will see a window showing all of your previous network connections. Click the + icon on the bottom left corner to add the connection.</p><p>Youâ€™ll be prompted to choose a connection type from the dropdown, which will default on <em>Ethernet</em>. Choose <em>Import a saved VPN configuration</em> <strong>not VPN</strong> which is the last element in the dropdown for my case. Then click create. This also shows a quick reminder for you to install openvpn plugin for NetworkManager if you havenâ€™t already as instructed above.</p><p>After clicking <em>Create</em>, you will be prompted to choose the openvpn configuration file. Go ahead and show it the .openvpn file you chose earlier. Quick info: <strong>UDP is faster but can result in data loss and TCP is more reliable</strong>. Vpnbook instructs to use TCP if you cannot connect to UDP due to network restriction. I choose <code>vpnbook-us1-udp53.openvpn</code> and import it. You can choose any one of the four files.</p><p><img src=/images/openvpn_imported.png#center alt="openvpn configuration imported"></p><p>As you can see the network manager automatically imports the settings for you. You donâ€™t have to manually type it. The configuration just imported had a key and a certificate inside it. So the network manager created them inside the .cert directory in your $HOME directory. If you have a different file for your certificate and/or key then also network manager imports it in the configuration but you shouldnâ€™t move the certificate and the key file, since it stores its location in the configuration. If you happen to move any of those files then you have to change its location from this configuration in <em>nm-connection-editor</em>.</p><p>Every OpenVPN service you use has a username and password associated with your account. Since vpnbook has a common username and password for all the users, its username remains the same but its password changed from time to time. So if youâ€™re using vpnbook and you cannot connect to the VPN service then chances are the password has been changed. Now go ahead and copy the username and password from the <a href=https://www.vpnbook.com/freevpn>vpnbook</a> and paste it into the configuration shown above. You can change the <em>Connection name</em> if you like but shouldnâ€™t change other fields if you donâ€™t know what youâ€™re exactly doing. Hit <em>Save</em> when youâ€™re done.</p><p>Now when you click on the network manager applet on the taskbar, you can see the connection name for the VPN set above inside <em>VPN Connections</em>. Click on the VPN you want to activate. The network manager tries to connect you to the VPN selected. The icon of the network manager applet also changes.</p><p><a href=https://www.vpnbook.com/freevpn>vpnbook</a> was chosen in this tutorial for the sake of simplicity. It is free for everyone so it&rsquo;s extremely slow and you might not have established a successful VPN connection due to this. You can try again if it didnâ€™t connect for the first time.</p><p>Right now, I have imported the <a href=https://s3.amazonaws.com/tunnelbear/linux/openvpn.zip>TunnelBear OpenVPN config files</a> in the same way as above. Here for username and password, you have to enter your email and password you used when creating an account on <a href=https://www.tunnelbear.com/>TunnelBear</a>. It gives you 500MB network transfer per month for free package users. For more, you have to pay for them.</p><p>You can also set up OpenVPN by moving the files to /etc/openvpn/client and starting the openvpn service from the command-line. More about the process <a href=https://wiki.archlinux.org/index.php/TunnelBear>here</a>. But I donâ€™t like to use root access if it can be done by any user. The method described in this blog works for users without superuser privileges also. The only place where superuser privileges are required is when installing the prerequisite packages.</p><p>So thatâ€™s it for today. Let me know your views and reactions in the comments below.</p></div><footer><section class=see-also></section><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"rabinadk1"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></footer></article></section></div><footer class=footer><section class=container><p>Looking for an interesting project to work on</p>Â©
2020 -
2021
Rabin Adhikari
Â·
Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=/js/dark-mode.min.0213e1773e6d1c5a644f847c67a6f8abac49a3776e2976f6008038af8c5b76a1.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-176075966-1','auto');ga('send','pageview');}</script></body></html>